{"remainingRequest":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\src\\views\\Register\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\src\\views\\Register\\index.vue","mtime":1669950320925},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669963799101},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\babel-loader\\lib\\index.js","mtime":1669963799734},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669963799101},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\vue-loader\\lib\\index.js","mtime":1669963800633}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyAgIGltcG9ydCB7IHZhbGlkVXNlcm5hbWUgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJw0KaW1wb3J0IHsgcmVnaXN0ZXIgfSBmcm9tICdAL2FwaS91c2VyJw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICdMb2dpbicsDQogICAgZGF0YSgpIHsNCiAgICAgICAgY29uc3QgdmFsaWRhdGVVc2VybmFtZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgICAgICAgIGlmICghdmFsaWRVc2VybmFtZSh2YWx1ZSkpIHsNCiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1BsZWFzZSBlbnRlciB0aGUgY29ycmVjdCB1c2VyIG5hbWUnKSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY2FsbGJhY2soKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGNvbnN0IHZhbGlkYXRlUGFzc3dvcmQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDwgMykgew0KICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignVGhlIHBhc3N3b3JkIGNhbiBub3QgYmUgbGVzcyB0aGFuIDMgZGlnaXRzJykpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGNhbGxiYWNrKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgbG9naW5Gb3JtOiB7DQogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICcnLA0KICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGxvZ2luUnVsZXM6IHsNCiAgICAgICAgICAgICAgICB1c2VybmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICdibHVyJywgdmFsaWRhdG9yOiB2YWxpZGF0ZVVzZXJuYW1lIH1dLA0KICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBbeyByZXF1aXJlZDogdHJ1ZSwgdHJpZ2dlcjogJ2JsdXInLCB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmQgfV0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBwYXNzd29yZFR5cGU6ICdwYXNzd29yZCcsDQogICAgICAgICAgICBjYXBzVG9vbHRpcDogZmFsc2UsDQogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgICAgIHNob3dEaWFsb2c6IGZhbHNlLA0KICAgICAgICAgICAgcmVkaXJlY3Q6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgIG90aGVyUXVlcnk6IHt9DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgY3JlYXRlZCgpIHsNCg0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgaWYgKHRoaXMubG9naW5Gb3JtLnVzZXJuYW1lID09PSAnJykgew0KICAgICAgICAgICAgdGhpcy4kcmVmcy51c2VybmFtZS5mb2N1cygpDQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5sb2dpbkZvcm0ucGFzc3dvcmQgPT09ICcnKSB7DQogICAgICAgICAgICB0aGlzLiRyZWZzLnBhc3N3b3JkLmZvY3VzKCkNCiAgICAgICAgfQ0KICAgIH0sDQogICAgZGVzdHJveWVkKCkgew0KDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGNoZWNrQ2Fwc2xvY2soZSkgew0KICAgICAgICAgICAgY29uc3QgeyBrZXkgfSA9IGUNCiAgICAgICAgICAgIHRoaXMuY2Fwc1Rvb2x0aXAgPSBrZXkgJiYga2V5Lmxlbmd0aCA9PT0gMSAmJiAoa2V5ID49ICdBJyAmJiBrZXkgPD0gJ1onKQ0KICAgICAgICB9LA0KICAgICAgICBzaG93UHdkKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMucGFzc3dvcmRUeXBlID09PSAncGFzc3dvcmQnKSB7DQogICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZFR5cGUgPSAnJw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkVHlwZSA9ICdwYXNzd29yZCcNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBhc3N3b3JkLmZvY3VzKCkNCiAgICAgICAgICAgIH0pDQogICAgICAgIA0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBoYW5kbGVMb2dpbigpIHsNCiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlZ2lzdGVyKHRoaXMubG9naW5Gb3JtKQ0KICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csDQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIscmVzLmRhdGEpDQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJc0xvZ2luIix0cnVlKQ0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfnmbvlvZXnlKjmiLflkI06Jyx0aGlzLmxvZ2luRm9ybS51c2VybmFtZSk7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXR1c2VybmFtZSIsdGhpcy5sb2dpbkZvcm0udXNlcm5hbWUpDQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ImhvbWUifSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0T3RoZXJRdWVyeShxdWVyeSkgew0KICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHF1ZXJ5KS5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKGN1ciAhPT0gJ3JlZGlyZWN0Jykgew0KICAgICAgICAgICAgICAgICAgICBhY2NbY3VyXSA9IHF1ZXJ5W2N1cl0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGFjYw0KICAgICAgICAgICAgfSwge30pDQogICAgICAgIH0NCg0KICAgIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/views/Register","sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n        <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" class=\"login-form\" autocomplete=\"on\"\r\n            label-position=\"left\">\r\n            <div class=\"title-container\">\r\n                <h3 class=\"title\">注册</h3>\r\n            </div>\r\n\r\n            <el-form-item prop=\"username\">\r\n                <span class=\"svg-container\">\r\n                    <svg-icon icon-class=\"user\" />\r\n                </span>\r\n                <el-input ref=\"username\" v-model=\"loginForm.username\" placeholder=\"Username\" name=\"username\" type=\"text\"\r\n                    tabindex=\"1\" autocomplete=\"on\" />\r\n            </el-form-item>\r\n\r\n              <el-form-item prop=\"nickname\">\r\n                <span class=\"svg-container\">\r\n                    <svg-icon icon-class=\"user\" />\r\n                </span>\r\n                <el-input ref=\"nickname\" v-model=\"loginForm.nickname\" placeholder=\"nickname\" name=\"nickname\" type=\"text\"\r\n                    tabindex=\"1\" autocomplete=\"on\" />\r\n            </el-form-item>\r\n\r\n\r\n            <el-tooltip v-model=\"capsTooltip\" content=\"Caps lock is On\" placement=\"right\" manual>\r\n                <el-form-item prop=\"password\">\r\n                    <span class=\"svg-container\">\r\n                        <svg-icon icon-class=\"password\" />\r\n                    </span>\r\n                    <el-input :key=\"passwordType\" ref=\"password\" v-model=\"loginForm.password\" :type=\"passwordType\"\r\n                        placeholder=\"Password\" name=\"password\" tabindex=\"2\" autocomplete=\"on\"\r\n                        @keyup.native=\"checkCapslock\" @blur=\"capsTooltip = false\" @keyup.enter.native=\"handleLogin\" />\r\n                    <span class=\"show-pwd\" @click=\"showPwd\">\r\n                        <svg-icon :icon-class=\"passwordType === 'password' ? 'eye' : 'eye-open'\" />\r\n                    </span>\r\n                </el-form-item>\r\n            </el-tooltip>\r\n\r\n            <el-button  :loading=\"loading\" type=\"primary\" style=\"width:100%;margin-bottom:30px;\"\r\n                @click.native.prevent=\"handleLogin\">注册</el-button>\r\n\r\n\r\n        </el-form>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\n//   import { validUsername } from '@/utils/validate'\r\nimport { register } from '@/api/user'\r\nexport default {\r\n    name: 'Login',\r\n    data() {\r\n        const validateUsername = (rule, value, callback) => {\r\n            if (!validUsername(value)) {\r\n                callback(new Error('Please enter the correct user name'))\r\n            } else {\r\n                callback()\r\n            }\r\n        }\r\n        const validatePassword = (rule, value, callback) => {\r\n            if (value.length < 3) {\r\n                callback(new Error('The password can not be less than 3 digits'))\r\n            } else {\r\n                callback()\r\n            }\r\n        }\r\n        return {\r\n            loginForm: {\r\n                username: '',\r\n                password: ''\r\n            },\r\n            loginRules: {\r\n                username: [{ required: true, trigger: 'blur', validator: validateUsername }],\r\n                password: [{ required: true, trigger: 'blur', validator: validatePassword }]\r\n            },\r\n            passwordType: 'password',\r\n            capsTooltip: false,\r\n            loading: false,\r\n            showDialog: false,\r\n            redirect: undefined,\r\n            otherQuery: {}\r\n        }\r\n    },\r\n\r\n    created() {\r\n\r\n    },\r\n    mounted() {\r\n        if (this.loginForm.username === '') {\r\n            this.$refs.username.focus()\r\n        } else if (this.loginForm.password === '') {\r\n            this.$refs.password.focus()\r\n        }\r\n    },\r\n    destroyed() {\r\n\r\n    },\r\n    methods: {\r\n        checkCapslock(e) {\r\n            const { key } = e\r\n            this.capsTooltip = key && key.length === 1 && (key >= 'A' && key <= 'Z')\r\n        },\r\n        showPwd() {\r\n            if (this.passwordType === 'password') {\r\n                this.passwordType = ''\r\n            } else {\r\n                this.passwordType = 'password'\r\n            }\r\n            this.$nextTick(() => {\r\n                this.$refs.password.focus()\r\n            })\r\n        \r\n        },\r\n        async handleLogin() {\r\n            const res = await register(this.loginForm)\r\n          \r\n            if (res.status == 200) {\r\n                this.$message({\r\n                    message: res.msg,\r\n                    type: 'success'\r\n                });\r\n                localStorage.setItem(\"token\",res.data)\r\n                this.$store.commit(\"setIsLogin\",true)\r\n                console.log('登录用户名:',this.loginForm.username);\r\n                this.$store.commit(\"setusername\",this.loginForm.username)\r\n                this.$router.push({name:\"home\"})\r\n            }\r\n        },\r\n        getOtherQuery(query) {\r\n            return Object.keys(query).reduce((acc, cur) => {\r\n                if (cur !== 'redirect') {\r\n                    acc[cur] = query[cur]\r\n                }\r\n                return acc\r\n            }, {})\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.login-container{\r\n    width: 800px;\r\n    margin: 0px auto;\r\n    margin-top: 175px;\r\n}\r\n.title{\r\n    margin-bottom:20px ;\r\n    text-align: center;\r\n}\r\n</style>\r\n\r\n\r\n    \r\n\r\n    "]}]}