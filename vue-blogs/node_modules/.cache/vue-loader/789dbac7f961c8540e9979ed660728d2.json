{"remainingRequest":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\src\\views\\Register\\index.vue?vue&type=style&index=0&id=6ff38420&scoped=true&lang=css&","dependencies":[{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\src\\views\\Register\\index.vue","mtime":1669950320925},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\css-loader\\dist\\cjs.js","mtime":1669963799567},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1669963801281},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\postcss-loader\\src\\index.js","mtime":1669963800278},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669963799101},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\vue-loader\\lib\\index.js","mtime":1669963800633}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQoubG9naW4tY29udGFpbmVyew0KICAgIHdpZHRoOiA4MDBweDsNCiAgICBtYXJnaW46IDBweCBhdXRvOw0KICAgIG1hcmdpbi10b3A6IDE3NXB4Ow0KfQ0KLnRpdGxlew0KICAgIG1hcmdpbi1ib3R0b206MjBweCA7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Register","sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n        <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" class=\"login-form\" autocomplete=\"on\"\r\n            label-position=\"left\">\r\n            <div class=\"title-container\">\r\n                <h3 class=\"title\">注册</h3>\r\n            </div>\r\n\r\n            <el-form-item prop=\"username\">\r\n                <span class=\"svg-container\">\r\n                    <svg-icon icon-class=\"user\" />\r\n                </span>\r\n                <el-input ref=\"username\" v-model=\"loginForm.username\" placeholder=\"Username\" name=\"username\" type=\"text\"\r\n                    tabindex=\"1\" autocomplete=\"on\" />\r\n            </el-form-item>\r\n\r\n              <el-form-item prop=\"nickname\">\r\n                <span class=\"svg-container\">\r\n                    <svg-icon icon-class=\"user\" />\r\n                </span>\r\n                <el-input ref=\"nickname\" v-model=\"loginForm.nickname\" placeholder=\"nickname\" name=\"nickname\" type=\"text\"\r\n                    tabindex=\"1\" autocomplete=\"on\" />\r\n            </el-form-item>\r\n\r\n\r\n            <el-tooltip v-model=\"capsTooltip\" content=\"Caps lock is On\" placement=\"right\" manual>\r\n                <el-form-item prop=\"password\">\r\n                    <span class=\"svg-container\">\r\n                        <svg-icon icon-class=\"password\" />\r\n                    </span>\r\n                    <el-input :key=\"passwordType\" ref=\"password\" v-model=\"loginForm.password\" :type=\"passwordType\"\r\n                        placeholder=\"Password\" name=\"password\" tabindex=\"2\" autocomplete=\"on\"\r\n                        @keyup.native=\"checkCapslock\" @blur=\"capsTooltip = false\" @keyup.enter.native=\"handleLogin\" />\r\n                    <span class=\"show-pwd\" @click=\"showPwd\">\r\n                        <svg-icon :icon-class=\"passwordType === 'password' ? 'eye' : 'eye-open'\" />\r\n                    </span>\r\n                </el-form-item>\r\n            </el-tooltip>\r\n\r\n            <el-button  :loading=\"loading\" type=\"primary\" style=\"width:100%;margin-bottom:30px;\"\r\n                @click.native.prevent=\"handleLogin\">注册</el-button>\r\n\r\n\r\n        </el-form>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\n//   import { validUsername } from '@/utils/validate'\r\nimport { register } from '@/api/user'\r\nexport default {\r\n    name: 'Login',\r\n    data() {\r\n        const validateUsername = (rule, value, callback) => {\r\n            if (!validUsername(value)) {\r\n                callback(new Error('Please enter the correct user name'))\r\n            } else {\r\n                callback()\r\n            }\r\n        }\r\n        const validatePassword = (rule, value, callback) => {\r\n            if (value.length < 3) {\r\n                callback(new Error('The password can not be less than 3 digits'))\r\n            } else {\r\n                callback()\r\n            }\r\n        }\r\n        return {\r\n            loginForm: {\r\n                username: '',\r\n                password: ''\r\n            },\r\n            loginRules: {\r\n                username: [{ required: true, trigger: 'blur', validator: validateUsername }],\r\n                password: [{ required: true, trigger: 'blur', validator: validatePassword }]\r\n            },\r\n            passwordType: 'password',\r\n            capsTooltip: false,\r\n            loading: false,\r\n            showDialog: false,\r\n            redirect: undefined,\r\n            otherQuery: {}\r\n        }\r\n    },\r\n\r\n    created() {\r\n\r\n    },\r\n    mounted() {\r\n        if (this.loginForm.username === '') {\r\n            this.$refs.username.focus()\r\n        } else if (this.loginForm.password === '') {\r\n            this.$refs.password.focus()\r\n        }\r\n    },\r\n    destroyed() {\r\n\r\n    },\r\n    methods: {\r\n        checkCapslock(e) {\r\n            const { key } = e\r\n            this.capsTooltip = key && key.length === 1 && (key >= 'A' && key <= 'Z')\r\n        },\r\n        showPwd() {\r\n            if (this.passwordType === 'password') {\r\n                this.passwordType = ''\r\n            } else {\r\n                this.passwordType = 'password'\r\n            }\r\n            this.$nextTick(() => {\r\n                this.$refs.password.focus()\r\n            })\r\n        \r\n        },\r\n        async handleLogin() {\r\n            const res = await register(this.loginForm)\r\n          \r\n            if (res.status == 200) {\r\n                this.$message({\r\n                    message: res.msg,\r\n                    type: 'success'\r\n                });\r\n                localStorage.setItem(\"token\",res.data)\r\n                this.$store.commit(\"setIsLogin\",true)\r\n                console.log('登录用户名:',this.loginForm.username);\r\n                this.$store.commit(\"setusername\",this.loginForm.username)\r\n                this.$router.push({name:\"home\"})\r\n            }\r\n        },\r\n        getOtherQuery(query) {\r\n            return Object.keys(query).reduce((acc, cur) => {\r\n                if (cur !== 'redirect') {\r\n                    acc[cur] = query[cur]\r\n                }\r\n                return acc\r\n            }, {})\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.login-container{\r\n    width: 800px;\r\n    margin: 0px auto;\r\n    margin-top: 175px;\r\n}\r\n.title{\r\n    margin-bottom:20px ;\r\n    text-align: center;\r\n}\r\n</style>\r\n\r\n\r\n    \r\n\r\n    "]}]}