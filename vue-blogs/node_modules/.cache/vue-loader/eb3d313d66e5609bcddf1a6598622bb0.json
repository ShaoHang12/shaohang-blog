{"remainingRequest":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\src\\views\\Home.vue","mtime":1669945915994},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669963799101},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\babel-loader\\lib\\index.js","mtime":1669963799734},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669963799101},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\vue-loader\\lib\\index.js","mtime":1669963800633}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYW5uZXIgZnJvbSAiQC9jb21wb25lbnRzL2Jhbm5lciI7CmltcG9ydCBGZWF0dXJlIGZyb20gIkAvY29tcG9uZW50cy9mZWF0dXJlIjsKaW1wb3J0IHNlY3Rpb25UaXRsZSBmcm9tICJAL2NvbXBvbmVudHMvc2VjdGlvbi10aXRsZSI7CmltcG9ydCBQb3N0IGZyb20gIkAvY29tcG9uZW50cy9wb3N0IjsKaW1wb3J0IFNtYWxsSWNvIGZyb20gIkAvY29tcG9uZW50cy9zbWFsbC1pY28iOwppbXBvcnQgUXVvdGUgZnJvbSAiQC9jb21wb25lbnRzL3F1b3RlIjsKaW1wb3J0IHsgZmV0Y2hGb2N1cywgZmV0Y2hMaXN0IH0gZnJvbSAiLi4vYXBpIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgcHJvcHM6IFsiY2F0ZSIsICJ3b3JkcyJdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmZWF0dXJlczogW10sCiAgICAgIHBvc3RMaXN0OiBbXSwKICAgICAgY3VyclBhZ2U6IDEsCiAgICAgIGhhc05leHRQYWdlOiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBCYW5uZXIsCiAgICBGZWF0dXJlLAogICAgc2VjdGlvblRpdGxlLAogICAgUG9zdCwKICAgIFNtYWxsSWNvLAogICAgUXVvdGUsCiAgfSwKICBjb21wdXRlZDogewogICAgc2VhcmNoV29yZHMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMud29yZHM7CiAgICB9LAogICAgY2F0ZWdvcnkoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMuY2F0ZTsKICAgIH0sCiAgICBoaWRlU2xvZ2FuKCkgewogICAgICByZXR1cm4gdGhpcy5jYXRlZ29yeSB8fCB0aGlzLnNlYXJjaFdvcmRzOwogICAgfSwKICAgIG5vdGljZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMubm90aWNlOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRm9jdXMoKSB7CiAgICAgIGZldGNoRm9jdXMoKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuZmVhdHVyZXMgPSByZXMuZGF0YSB8fCBbXTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIGZldGNoTGlzdCgpIHsKICAgICAgY29uc29sZS5sb2coIjEyMzEyIik7CiAgICAgIGNvbnN0IGZvcm0gPSB7CiAgICAgICAgJ2FydGljbGVUaXRsZSc6dGhpcy4kcm91dGUucGFyYW1zLndvcmRzLAogICAgICAgICdhcnRpY2xlQ2cnOiIxIgogICAgICB9CiAgICAgIGZldGNoTGlzdChmb3JtKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXMiLCByZXMuZGF0YSk7CiAgICAgICAgICB0aGlzLnBvc3RMaXN0ID0gcmVzLmRhdGEucmVjb3JkcyB8fCBbXTsKICAgICAgICAgIHRoaXMuY3VyclBhZ2UgPSByZXMuZGF0YS5jdXJyZW50OwogICAgICAgICAgdGhpcy5oYXNOZXh0UGFnZSA9IHJlcy5kYXRhLmhhc05leHRQYWdlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKCI0NTM0NTQzIik7CiAgICB9LAogICAgbG9hZE1vcmUoKSB7CiAgICAgIGZldGNoTGlzdCh7IHBhZ2U6IHRoaXMuY3VyclBhZ2UgKyAxIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMucG9zdExpc3QgPSB0aGlzLnBvc3RMaXN0LmNvbmNhdChyZXMuZGF0YS5pdGVtcyB8fCBbXSk7CiAgICAgICAgdGhpcy5jdXJyUGFnZSA9IHJlcy5kYXRhLnBhZ2U7CiAgICAgICAgdGhpcy5oYXNOZXh0UGFnZSA9IHJlcy5kYXRhLmhhc05leHRQYWdlOwogICAgICB9KTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gdGhpcy5mZXRjaEZvY3VzKCk7CiAgICB0aGlzLmZldGNoTGlzdCgpOwogIH0sCn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <banner isHome=\"true\"></banner>\n    <div class=\"site-content animate\">\n      <!--通知栏-->\n      <div class=\"notify\">\n        <div class=\"search-result\" v-if=\"hideSlogan\">\n          <span v-if=\"searchWords\">搜索结果：\"{{ searchWords }}\" 相关文章</span>\n          <span v-else-if=\"category\">分类 \"{{ category }}\" 相关文章</span>\n        </div>\n      </div>\n\n      <!--焦点图-->\n      <div class=\"top-feature\" v-if=\"!hideSlogan\">\n        <div class=\"feature-content\">\n          <div class=\"feature-item\" v-for=\"item in features\" :key=\"item.title\">\n            <Feature :data=\"item\"></Feature>\n          </div>\n        </div>\n      </div>\n      <!--文章列表-->\n      <main class=\"site-main\" :class=\"{ search: hideSlogan }\">\n        <section-title v-if=\"!hideSlogan\">推荐</section-title>\n        <template v-for=\"item in postList\">\n          <post :post=\"item\" :key=\"item.id\"></post>\n        </template>\n      </main>\n\n      <!--加载更多-->\n      <div class=\"more\" v-show=\"hasNextPage\">\n        <div class=\"more-btn\" @click=\"loadMore\">More</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Banner from \"@/components/banner\";\nimport Feature from \"@/components/feature\";\nimport sectionTitle from \"@/components/section-title\";\nimport Post from \"@/components/post\";\nimport SmallIco from \"@/components/small-ico\";\nimport Quote from \"@/components/quote\";\nimport { fetchFocus, fetchList } from \"../api\";\n\nexport default {\n  name: \"Home\",\n  props: [\"cate\", \"words\"],\n  data() {\n    return {\n      features: [],\n      postList: [],\n      currPage: 1,\n      hasNextPage: false,\n    };\n  },\n  components: {\n    Banner,\n    Feature,\n    sectionTitle,\n    Post,\n    SmallIco,\n    Quote,\n  },\n  computed: {\n    searchWords() {\n      return this.$route.params.words;\n    },\n    category() {\n      return this.$route.params.cate;\n    },\n    hideSlogan() {\n      return this.category || this.searchWords;\n    },\n    notice() {\n      return this.$store.getters.notice;\n    },\n  },\n  methods: {\n    fetchFocus() {\n      fetchFocus()\n        .then((res) => {\n          this.features = res.data || [];\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    fetchList() {\n      console.log(\"12312\");\n      const form = {\n        'articleTitle':this.$route.params.words,\n        'articleCg':\"1\"\n      }\n      fetchList(form)\n        .then((res) => {\n          console.log(\"res\", res.data);\n          this.postList = res.data.records || [];\n          this.currPage = res.data.current;\n          this.hasNextPage = res.data.hasNextPage;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      console.log(\"4534543\");\n    },\n    loadMore() {\n      fetchList({ page: this.currPage + 1 }).then((res) => {\n        this.postList = this.postList.concat(res.data.items || []);\n        this.currPage = res.data.page;\n        this.hasNextPage = res.data.hasNextPage;\n      });\n    },\n  },\n  mounted() {\n    // this.fetchFocus();\n    this.fetchList();\n  },\n};\n</script>\n<style scoped lang=\"less\">\n.site-content {\n  .notify {\n    margin: 60px 0;\n    border-radius: 3px;\n    & > div {\n      padding: 20px;\n    }\n  }\n\n  .search-result {\n    padding: 15px 20px;\n    text-align: center;\n    font-size: 20px;\n    font-weight: 400;\n    border: 1px dashed #ddd;\n    color: #828282;\n  }\n}\n\n.top-feature {\n  width: 100%;\n  height: auto;\n  margin-top: 30px;\n\n  .feature-content {\n    margin-top: 10px;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n\n    .feature-item {\n      width: 32.9%;\n    }\n  }\n}\n\n.site-main {\n  padding-top: 80px;\n\n  &.search {\n    padding-top: 0;\n  }\n}\n\n.more {\n  margin: 50px 0;\n  .more-btn {\n    width: 100px;\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n    color: #adadad;\n    border: 1px solid #adadad;\n    border-radius: 20px;\n    margin: 0 auto;\n    cursor: pointer;\n    &:hover {\n      color: #8fd0cc;\n      border: 1px dashed #8fd0cc;\n    }\n  }\n}\n\n/******/\n@media (max-width: 800px) {\n  .top-feature {\n    display: none;\n  }\n\n  .site-main {\n    padding-top: 40px;\n  }\n\n  .site-content {\n    .notify {\n      margin: 30px 0 0 0;\n    }\n\n    .search-result {\n      margin-bottom: 20px;\n      font-size: 16px;\n    }\n  }\n}\n\n/******/\n</style>\n"]}]}