{"remainingRequest":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\src\\views\\admin\\CgManager\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\src\\views\\admin\\CgManager\\index.vue","mtime":1669963035214},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669963799101},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\babel-loader\\lib\\index.js","mtime":1669963799734},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669963799101},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\my-blogs\\node_modules\\vue-loader\\lib\\index.js","mtime":1669963800633}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgIkB3YW5nZWRpdG9yL2VkaXRvci9kaXN0L2Nzcy9zdHlsZS5jc3MiOw0KaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtdWkiOw0KaW1wb3J0IHsgSUVkaXRvckNvbmZpZyB9IGZyb20gIkB3YW5nZWRpdG9yL2VkaXRvciI7DQppbXBvcnQgeyBFZGl0b3IsIFRvb2xiYXIgfSBmcm9tICJAd2FuZ2VkaXRvci9lZGl0b3ItZm9yLXZ1ZSI7DQoNCmltcG9ydCB7DQogIGZldGNoTGlzdCwNCiAgZ2V0QXJ0aWNsZUJ5SWQsDQogIHVwZGF0ZUFydGljbGUsDQogIHNhdmVBcnRpY2xlLA0KICBkZWxldGVBcnRpY2xlLA0KICBwdWJsaXNoQXJ0aWNsZSwNCn0gZnJvbSAiLi4vLi4vLi4vYXBpL2FkbWluL2FydGljbGUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRVc2VyTGlzdCgpOw0KICAgIHRoaXMuaW5pdFdhbmdFZGl0b3IoKTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmluaXRXYW5nRWRpdG9yKCk7DQogIH0sDQogIGNvbXBvbmVudHM6IHsgRWRpdG9yLCBUb29sYmFyIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlzRWRpdDogZmFsc2UsDQogICAgICBmb3JtTGFiZWxXaWR0aDogIjEyMHB4IiwNCiAgICAgIGZvcm06IHt9LA0KICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLA0KICAgICAgdG90YWw6IDAsDQogICAgICBxdWVyeVBhcmFtOiB7DQogICAgICAgIHBhZ2VzaXplOiAxMCwNCiAgICAgICAgcGFnZW51bTogMSwNCiAgICAgIH0sDQogICAgICB0YWJsZURhdGE6IFtdLA0KDQogICAgICBlZGl0b3I6IHt9LA0KDQogICAgICBodG1sOiAiPHA+aGVsbG88L3A+IiwNCiAgICAgIHRvb2xiYXJDb25maWc6IHt9LA0KICAgICAgbW9kZTogImRlZmF1bHQiLA0KICAgICAgZWRpdG9yQ29uZmlnOiB7DQogICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5YaF5a65Li4uIiwNCiAgICAgICAgTUVOVV9DT05GOiB7DQogICAgICAgICAgLy8g6YWN572u5Zu+54mHDQogICAgICAgICAgdXBsb2FkSW1hZ2U6IHsNCiAgICAgICAgICAgIHNlcnZlcjogImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9idXNpbmVzcy9maWxlL3VwbG9hZCIsDQogICAgICAgICAgICBmaWVsZE5hbWU6ICJmaWxlIiwNCg0KICAgICAgICAgICAgb25GYWlsZWQ6IGZ1bmN0aW9uKGZpbGUsIHJlcykgew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgfSwNCiAgICAgIG1vZGU6ICJkZWZhdWx0IiwgLy8gb3IgJ3NpbXBsZScsDQogICAgfTsNCiAgfSwNCiAgYmVmb3JlRGVzdHJveSgpIHsNCiAgICBjb25zdCBlZGl0b3IgPSB0aGlzLmVkaXRvcjsNCiAgICBpZiAoZWRpdG9yID09IG51bGwpIHJldHVybjsNCiAgICBlZGl0b3IuZGVzdHJveSgpOyAvLyDnu4Tku7bplIDmr4Hml7bvvIzlj4rml7bplIDmr4HnvJbovpHlmagNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uQ3JlYXRlZChlZGl0b3IpIHsNCiAgICAgIHRoaXMuZWRpdG9yID0gT2JqZWN0LnNlYWwoZWRpdG9yKTsgLy8g5LiA5a6a6KaB55SoIE9iamVjdC5zZWFsKCkg77yM5ZCm5YiZ5Lya5oql6ZSZDQogICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRvcik7DQogICAgfSwNCiAgICBhc3luYyBwdWJsaXNoKHJvdykgew0KICAgICAgY29uc29sZS5sb2cocm93KTsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHB1Ymxpc2hBcnRpY2xlKHJvdyk7DQogICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgTWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogcmVzLm1zZywNCiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgZHVyYXRpb246IDMgKiAxMDAwLA0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOw0KICAgIH0sDQogICAgaGFuZGxlT3BlbihrZXksIGtleVBhdGgpIHsNCiAgICAgIGNvbnNvbGUubG9nKGtleSwga2V5UGF0aCk7DQogICAgfSwNCiAgICBoYW5kbGVDbG9zZShrZXksIGtleVBhdGgpIHsNCiAgICAgIGNvbnNvbGUubG9nKGtleSwga2V5UGF0aCk7DQogICAgfSwNCiAgICB0b1VzZXJWaWV3KCkgew0KICAgICAgY29uc29sZS5sb2coInRvVXNlclZpZXciKTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogInVzZXJNYW5hZ2VyIiB9KTsNCiAgICB9LA0KICAgIGhhbmRsZUNsb3NlKCkgew0KICAgICAgLy8gdGhpcy4kY29uZmlybSgi56Gu6K6k5YWz6Zet77yfIikNCiAgICAgIC8vICAgLnRoZW4oKF8pID0+IHsNCiAgICAgIC8vICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7DQogICAgICAvLyAgICAgdGhpcy5mb3JtID0ge307DQogICAgICAvLyAgIH0pDQogICAgICAvLyAgIC5jYXRjaCgoXykgPT4ge30pOw0KICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgdGhpcy5mb3JtID0ge307DQogICAgfSwNCg0KICAgIC8vIOWIoOmZpOeUqOaIt+S/oeaBrw0KICAgIGFzeW5jIGRlbGV0ZVVzZXIoaWQpIHsNCiAgICAgIGNvbnNvbGUubG9nKCJkZWxldGUiKTsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGRlbGV0ZUFydGljbGUoaWQpOw0KICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7DQogICAgICAgIE1lc3NhZ2Uoew0KICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csDQogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgIGR1cmF0aW9uOiAzICogMTAwMCwNCiAgICAgICAgfSk7DQogICAgICB9DQoNCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsNCiAgICB9LA0KICAgIC8vIOS/ruaUueaWh+eroOS/oeaBrw0KICAgIGFzeW5jIHVwZGF0ZSgpIHsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHVwZGF0ZUFydGljbGUodGhpcy5mb3JtKTsNCiAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICBNZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLA0KICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICBkdXJhdGlvbjogMyAqIDEwMDAsDQogICAgICAgIH0pOw0KICAgICAgfQ0KDQogICAgICB0aGlzLmdldFVzZXJMaXN0KCk7DQogICAgfSwNCiAgICAvLyDmlrDlop7mlofnq6Dkv6Hmga8NCiAgICBhc3luYyBzYXZlKCkgew0KICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgc2F2ZUFydGljbGUodGhpcy5mb3JtKTsNCiAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgew0KICAgICAgICBNZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLA0KICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICBkdXJhdGlvbjogMyAqIDEwMDAsDQogICAgICAgIH0pOw0KICAgICAgfQ0KDQogICAgICB0aGlzLmdldFVzZXJMaXN0KCk7DQogICAgfSwNCiAgICAvLyBjb21taXRJbmZvDQogICAgYXN5bmMgY29tbWl0SW5mbygpIHsNCiAgICAgIGlmICh0aGlzLmlzRWRpdCkgew0KICAgICAgICB0aGlzLnVwZGF0ZSgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zYXZlKCk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDojrflj5bmlofnq6DliJfooagNCiAgICBhc3luYyBnZXRVc2VyTGlzdCgpIHsNCiAgICAgIHRoaXMuZm9ybSA9IHt9Ow0KDQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgZmV0Y2hMaXN0KHsNCiAgICAgICAgYXJ0aWNsZUNnOiAiMCIsDQogICAgICAgIHBhZ2VzaXplOiB0aGlzLnF1ZXJ5UGFyYW0ucGFnZXNpemUsDQogICAgICAgIHBhZ2VudW06IHRoaXMucXVlcnlQYXJhbS5wYWdlbnVtLA0KICAgICAgfSk7DQogICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5yZWNvcmRzOw0KICAgICAgdGhpcy50b3RhbCA9IHJlcy50b3RhbDsNCiAgICAgIGNvbnNvbGUubG9nKCIxMTIzMSIsIHRoaXMudGFibGVEYXRhKTsNCiAgICB9LA0KICAgIGFzeW5jIGVkaXQoaWQpIHsNCiAgICAgIHRoaXMuaXNFZGl0ID0gdHJ1ZTsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IGdldEFydGljbGVCeUlkKGlkKTsNCiAgICAgIHRoaXMuZm9ybSA9IHJlczsNCiAgICB9LA0KICAgIC8vIOaWsOWinueUqOaItw0KICAgIGFzeW5jIGFkZCgpIHsNCiAgICAgIGNvbnNvbGUubG9nKCJhZGQiKTsNCiAgICAgIHRoaXMuZm9ybSA9IHt9Ow0KICAgICAgdGhpcy5pc0VkaXQgPSBmYWxzZTsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgIH0sDQoNCiAgICBhc3luYyBoYW5kbGVBdmF0YXJTdWNjZXNzKHJlcywgZmlsZSkgew0KICAgICAgY29uc29sZS5sb2coInJlcyIsIHJlcy5kYXRhLnVybCk7DQogICAgICB0aGlzLmZvcm0uYXJ0aWNsZUNvdmVyID0gcmVzLmRhdGEudXJsOw0KICAgICAgLy8gdGhpcy5mb3JtLmFydGljbGVDb3ZlciA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5yYXcpOw0KICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtKTsNCiAgICB9LA0KICAgIGFzeW5jIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7DQogICAgICBjb25zdCBpc0pQRyA9IGZpbGUudHlwZSA9PT0gImltYWdlL2pwZWciOw0KICAgICAgY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAxMDA7DQoNCiAgICAgIGlmICghaXNMdDJNKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuS4iuS8oOWktOWDj+WbvueJh+Wkp+Wwj+S4jeiDvei2hei/hyAxMDBNQiEiKTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBpc0pQRyAmJiBpc0x0Mk07DQogICAgfSwNCg0KICAgIC8vIOmFjee9rue8lui+keWZqA0KICAgIGluaXRXYW5nRWRpdG9yKCkgew0KICAgICAgdGhpcy5lZGl0b3JDb25maWcuTUVOVV9DT05GWyJ1cGxvYWRJbWFnZSJdID0gew0KICAgICAgICBzZXJ2ZXI6ICJodHRwOi8vbG9jYWxob3N0OjgwODAvYnVzaW5lc3MvZmlsZS91cGxvYWQiLA0KICAgICAgICAvLyBmb3JtLWRhdGEgZmllbGROYW1lIO+8jOm7mOiupOWAvCAnd2FuZ2VkaXRvci11cGxvYWRlZC1pbWFnZScNCiAgICAgICAgZmllbGROYW1lOiAiZmlsZSIsDQoNCiAgICAgICAgLy8g5Y2V5Liq5paH5Lu255qE5pyA5aSn5L2T56ev6ZmQ5Yi277yM6buY6K6k5Li6IDJNDQogICAgICAgIG1heEZpbGVTaXplOiAxMDAgKiAxMDI0ICogMTAyNCwgLy8gMU0NCg0KICAgICAgICAvLyDmnIDlpJrlj6/kuIrkvKDlh6DkuKrmlofku7bvvIzpu5jorqTkuLogMTAwDQogICAgICAgIG1heE51bWJlck9mRmlsZXM6IDEwLA0KDQogICAgICAgIC8vIOmAieaLqeaWh+S7tuaXtueahOexu+Wei+mZkOWItu+8jOm7mOiupOS4uiBbJ2ltYWdlLyonXSDjgILlpoLkuI3mg7PpmZDliLbvvIzliJnorr7nva7kuLogW10NCiAgICAgICAgYWxsb3dlZEZpbGVUeXBlczogWyJpbWFnZS8qIl0sDQoNCiAgICAgICAgLy8g6Ieq5a6a5LmJ5LiK5Lyg5Y+C5pWw77yM5L6L5aaC5Lyg6YCS6aqM6K+B55qEIHRva2VuIOetieOAguWPguaVsOS8muiiq+a3u+WKoOWIsCBmb3JtRGF0YSDkuK3vvIzkuIDotbfkuIrkvKDliLDmnI3liqHnq6/jgIINCiAgICAgICAgLy8gbWV0YTogew0KICAgICAgICAvLyAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwNCiAgICAgICAgLy8gfSwNCg0KICAgICAgICAvLyDlsIYgbWV0YSDmi7zmjqXliLAgdXJsIOWPguaVsOS4re+8jOm7mOiupCBmYWxzZQ0KICAgICAgICBtZXRhV2l0aFVybDogZmFsc2UsDQoNCiAgICAgICAgLy8g6Ieq5a6a5LmJ5aKe5YqgIGh0dHAgIGhlYWRlcg0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLA0KICAgICAgICB9LA0KDQogICAgICAgIC8vIOi3qOWfn+aYr+WQpuS8oOmAkiBjb29raWUg77yM6buY6K6k5Li6IGZhbHNlDQogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwNCg0KICAgICAgICAvLyDotoXml7bml7bpl7TvvIzpu5jorqTkuLogMTAg56eSDQogICAgICAgIHRpbWVvdXQ6IDUgKiAxMDAwLCAvLyA1IOenkg0KICAgICAgfTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/admin/CgManager","sourcesContent":["<template>\r\n  <div>\r\n    <el-table :data=\"tableData\" style=\"width: 100%;height: 200px;\">\r\n      <el-table-column prop=\"articleTitle\" label=\"文章标题\"> </el-table-column>\r\n      <el-table-column prop=\"articleBrief\" label=\"文章简介\"> </el-table-column>\r\n      <el-table-column prop=\"articleLook\" label=\"浏览量\"> </el-table-column>\r\n      <el-table-column prop=\"articleAuthor\" label=\"作者\"> </el-table-column>\r\n      <el-table-column prop=\"articleTime\" label=\"发布时间\"> </el-table-column>\r\n\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            style=\"margin-left: 10px;\r\n                   margin-bottom: 10px;\"   \r\n            @click=\"deleteUser(scope.row.articleId)\"\r\n            size=\"mini\"\r\n            type=\"warning\"\r\n            >删除</el-button\r\n          >\r\n          <el-button\r\n            size=\"mini\"\r\n            @click=\"edit(scope.row.articleId)\"\r\n            type=\"primary\"\r\n            >修改</el-button\r\n          >\r\n          <el-button size=\"mini\" @click=\"publish(scope.row)\" type=\"primary\"\r\n            >发布</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div class=\"block pagination\">\r\n      <el-pagination\r\n        background=\"#f9f9f9\"\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\"\r\n      />\r\n    </div>\r\n\r\n    <el-dialog\r\n      title=\"编辑信息\"\r\n      :visible.sync=\"dialogFormVisible\"\r\n      :before-close=\"handleClose\"\r\n    >\r\n      <el-form label-width=\"100px\" :model=\"form\">\r\n        <el-form-item label=\"文章标题\">\r\n          <el-input v-model=\"form.articleTitle\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"文章封面\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            action=\"http://localhost:8080/business/file/upload\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\"\r\n          >\r\n            <img :src=\"form.articleCover\" class=\"avatar\" />\r\n            <!-- <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i> -->\r\n          </el-upload>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"文章简介\">\r\n          <el-input v-model=\"form.articleBrief\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"文章内容\">\r\n          <Toolbar\r\n            style=\"border-bottom: 1px solid #ccc\"\r\n            :editor=\"editor\"\r\n            :defaultConfig=\"toolbarConfig\"\r\n            :mode=\"mode\"\r\n          />\r\n          <Editor\r\n            style=\"height: 500px; overflow-y: hidden; border: 1px solid #ccc\"\r\n            v-model=\"form.articleContent\"\r\n            :defaultConfig=\"editorConfig\"\r\n            :mode=\"mode\"\r\n            @onCreated=\"onCreated\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"浏览量\">\r\n          <el-input v-model=\"form.articleLook\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"作者\">\r\n          <el-input v-model=\"form.articleAuthor\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"发布时间\">\r\n          <el-date-picker\r\n            v-model=\"form.articleTime\"\r\n            type=\"datetime\"\r\n            format=\"yyyy-MM-dd HH:mm:ss\"\r\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n            placeholder=\"选择日期时间\"\r\n          >\r\n          </el-date-picker>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"commitInfo\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"@wangeditor/editor/dist/css/style.css\";\r\nimport { Message } from \"element-ui\";\r\nimport { IEditorConfig } from \"@wangeditor/editor\";\r\nimport { Editor, Toolbar } from \"@wangeditor/editor-for-vue\";\r\n\r\nimport {\r\n  fetchList,\r\n  getArticleById,\r\n  updateArticle,\r\n  saveArticle,\r\n  deleteArticle,\r\n  publishArticle,\r\n} from \"../../../api/admin/article\";\r\n\r\nexport default {\r\n  mounted() {\r\n    this.getUserList();\r\n    this.initWangEditor();\r\n  },\r\n  created() {\r\n    this.initWangEditor();\r\n  },\r\n  components: { Editor, Toolbar },\r\n  data() {\r\n    return {\r\n      isEdit: false,\r\n      formLabelWidth: \"120px\",\r\n      form: {},\r\n      dialogFormVisible: false,\r\n      total: 0,\r\n      queryParam: {\r\n        pagesize: 10,\r\n        pagenum: 1,\r\n      },\r\n      tableData: [],\r\n\r\n      editor: {},\r\n\r\n      html: \"<p>hello</p>\",\r\n      toolbarConfig: {},\r\n      mode: \"default\",\r\n      editorConfig: {\r\n        placeholder: \"请输入内容...\",\r\n        MENU_CONF: {\r\n          // 配置图片\r\n          uploadImage: {\r\n            server: \"http://localhost:8080/business/file/upload\",\r\n            fieldName: \"file\",\r\n\r\n            onFailed: function(file, res) {\r\n              console.log(res);\r\n            },\r\n          },\r\n        },\r\n      },\r\n      mode: \"default\", // or 'simple',\r\n    };\r\n  },\r\n  beforeDestroy() {\r\n    const editor = this.editor;\r\n    if (editor == null) return;\r\n    editor.destroy(); // 组件销毁时，及时销毁编辑器\r\n  },\r\n  methods: {\r\n    onCreated(editor) {\r\n      this.editor = Object.seal(editor); // 一定要用 Object.seal() ，否则会报错\r\n      console.log(this.editor);\r\n    },\r\n    async publish(row) {\r\n      console.log(row);\r\n      const res = await publishArticle(row);\r\n      if (res.status == 200) {\r\n        Message({\r\n          message: res.msg,\r\n          type: \"success\",\r\n          duration: 3 * 1000,\r\n        });\r\n      }\r\n\r\n      this.getUserList();\r\n    },\r\n    handleOpen(key, keyPath) {\r\n      console.log(key, keyPath);\r\n    },\r\n    handleClose(key, keyPath) {\r\n      console.log(key, keyPath);\r\n    },\r\n    toUserView() {\r\n      console.log(\"toUserView\");\r\n      this.$router.push({ name: \"userManager\" });\r\n    },\r\n    handleClose() {\r\n      // this.$confirm(\"确认关闭？\")\r\n      //   .then((_) => {\r\n      //     this.dialogFormVisible = false;\r\n      //     this.form = {};\r\n      //   })\r\n      //   .catch((_) => {});\r\n      this.dialogFormVisible = false;\r\n      this.form = {};\r\n    },\r\n\r\n    // 删除用户信息\r\n    async deleteUser(id) {\r\n      console.log(\"delete\");\r\n      const res = await deleteArticle(id);\r\n      if (res.status == 200) {\r\n        Message({\r\n          message: res.msg,\r\n          type: \"success\",\r\n          duration: 3 * 1000,\r\n        });\r\n      }\r\n\r\n      this.getUserList();\r\n    },\r\n    // 修改文章信息\r\n    async update() {\r\n      this.dialogFormVisible = false;\r\n      const res = await updateArticle(this.form);\r\n      if (res.status == 200) {\r\n        Message({\r\n          message: res.msg,\r\n          type: \"success\",\r\n          duration: 3 * 1000,\r\n        });\r\n      }\r\n\r\n      this.getUserList();\r\n    },\r\n    // 新增文章信息\r\n    async save() {\r\n      this.dialogFormVisible = false;\r\n      const res = await saveArticle(this.form);\r\n      if (res.status == 200) {\r\n        Message({\r\n          message: res.msg,\r\n          type: \"success\",\r\n          duration: 3 * 1000,\r\n        });\r\n      }\r\n\r\n      this.getUserList();\r\n    },\r\n    // commitInfo\r\n    async commitInfo() {\r\n      if (this.isEdit) {\r\n        this.update();\r\n      } else {\r\n        this.save();\r\n      }\r\n    },\r\n    // 获取文章列表\r\n    async getUserList() {\r\n      this.form = {};\r\n\r\n      const { data: res } = await fetchList({\r\n        articleCg: \"0\",\r\n        pagesize: this.queryParam.pagesize,\r\n        pagenum: this.queryParam.pagenum,\r\n      });\r\n      this.tableData = res.records;\r\n      this.total = res.total;\r\n      console.log(\"11231\", this.tableData);\r\n    },\r\n    async edit(id) {\r\n      this.isEdit = true;\r\n      this.dialogFormVisible = true;\r\n      const { data: res } = await getArticleById(id);\r\n      this.form = res;\r\n    },\r\n    // 新增用户\r\n    async add() {\r\n      console.log(\"add\");\r\n      this.form = {};\r\n      this.isEdit = false;\r\n      this.dialogFormVisible = true;\r\n    },\r\n\r\n    async handleAvatarSuccess(res, file) {\r\n      console.log(\"res\", res.data.url);\r\n      this.form.articleCover = res.data.url;\r\n      // this.form.articleCover = URL.createObjectURL(file.raw);\r\n      console.log(this.form);\r\n    },\r\n    async beforeAvatarUpload(file) {\r\n      const isJPG = file.type === \"image/jpeg\";\r\n      const isLt2M = file.size / 1024 / 1024 < 100;\r\n\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传头像图片大小不能超过 100MB!\");\r\n      }\r\n      return isJPG && isLt2M;\r\n    },\r\n\r\n    // 配置编辑器\r\n    initWangEditor() {\r\n      this.editorConfig.MENU_CONF[\"uploadImage\"] = {\r\n        server: \"http://localhost:8080/business/file/upload\",\r\n        // form-data fieldName ，默认值 'wangeditor-uploaded-image'\r\n        fieldName: \"file\",\r\n\r\n        // 单个文件的最大体积限制，默认为 2M\r\n        maxFileSize: 100 * 1024 * 1024, // 1M\r\n\r\n        // 最多可上传几个文件，默认为 100\r\n        maxNumberOfFiles: 10,\r\n\r\n        // 选择文件时的类型限制，默认为 ['image/*'] 。如不想限制，则设置为 []\r\n        allowedFileTypes: [\"image/*\"],\r\n\r\n        // 自定义上传参数，例如传递验证的 token 等。参数会被添加到 formData 中，一起上传到服务端。\r\n        // meta: {\r\n        //   token: localStorage.getItem(\"token\"),\r\n        // },\r\n\r\n        // 将 meta 拼接到 url 参数中，默认 false\r\n        metaWithUrl: false,\r\n\r\n        // 自定义增加 http  header\r\n        headers: {\r\n          token: localStorage.getItem(\"token\"),\r\n        },\r\n\r\n        // 跨域是否传递 cookie ，默认为 false\r\n        withCredentials: true,\r\n\r\n        // 超时时间，默认为 10 秒\r\n        timeout: 5 * 1000, // 5 秒\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.pagination {\r\n  margin-top: 10px;\r\n  background-color: #f9f9f9;\r\n}\r\n.addBtn {\r\n  margin-bottom: 15px;\r\n}\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n</style>\r\n"]}]}