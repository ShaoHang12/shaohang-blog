{"remainingRequest":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\babel-loader\\lib\\index.js!E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\src\\views\\Home.vue","mtime":1670381589237},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669963799101},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\babel-loader\\lib\\index.js","mtime":1669963799734},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669963799101},{"path":"E:\\VScode-workplace\\我的博客\\shaohang-blog\\vue-blogs\\node_modules\\vue-loader\\lib\\index.js","mtime":1669963800633}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJhbm5lciBmcm9tICJAL2NvbXBvbmVudHMvYmFubmVyIjsKaW1wb3J0IEZlYXR1cmUgZnJvbSAiQC9jb21wb25lbnRzL2ZlYXR1cmUiOwppbXBvcnQgc2VjdGlvblRpdGxlIGZyb20gIkAvY29tcG9uZW50cy9zZWN0aW9uLXRpdGxlIjsKaW1wb3J0IFBvc3QgZnJvbSAiQC9jb21wb25lbnRzL3Bvc3QiOwppbXBvcnQgU21hbGxJY28gZnJvbSAiQC9jb21wb25lbnRzL3NtYWxsLWljbyI7CmltcG9ydCBRdW90ZSBmcm9tICJAL2NvbXBvbmVudHMvcXVvdGUiOwppbXBvcnQgeyBmZXRjaEZvY3VzIGFzIF9mZXRjaEZvY3VzLCBmZXRjaExpc3QgYXMgX2ZldGNoTGlzdCB9IGZyb20gIi4uL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgcHJvcHM6IFsiY2F0ZSIsICJ3b3JkcyJdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmZWF0dXJlczogW10sCiAgICAgIHBvc3RMaXN0OiBbXSwKICAgICAgY3VyclBhZ2U6IDEsCiAgICAgIGhhc05leHRQYWdlOiBmYWxzZSwKICAgICAgc2VhcmNoOiAnJwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEJhbm5lcjogQmFubmVyLAogICAgRmVhdHVyZTogRmVhdHVyZSwKICAgIHNlY3Rpb25UaXRsZTogc2VjdGlvblRpdGxlLAogICAgUG9zdDogUG9zdCwKICAgIFNtYWxsSWNvOiBTbWFsbEljbywKICAgIFF1b3RlOiBRdW90ZQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNlYXJjaFdvcmRzOiBmdW5jdGlvbiBzZWFyY2hXb3JkcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhcmFtcy53b3JkczsKICAgIH0sCiAgICBjYXRlZ29yeTogZnVuY3Rpb24gY2F0ZWdvcnkoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMuY2F0ZTsKICAgIH0sCiAgICBoaWRlU2xvZ2FuOiBmdW5jdGlvbiBoaWRlU2xvZ2FuKCkgewogICAgICByZXR1cm4gdGhpcy5jYXRlZ29yeSB8fCB0aGlzLnNlYXJjaFdvcmRzOwogICAgfSwKICAgIG5vdGljZTogZnVuY3Rpb24gbm90aWNlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5ub3RpY2U7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaEZvY3VzOiBmdW5jdGlvbiBmZXRjaEZvY3VzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX2ZldGNoRm9jdXMoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5mZWF0dXJlcyA9IHJlcy5kYXRhIHx8IFtdOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgZmV0Y2hMaXN0OiBmdW5jdGlvbiBmZXRjaExpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coIjEyMzEyIik7CiAgICAgIHZhciBmb3JtID0gewogICAgICAgIGFydGljbGVUaXRsZTogdGhpcy4kcm91dGUucGFyYW1zLndvcmRzLAogICAgICAgIGFydGljbGVDZzogIjEiCiAgICAgIH07CgogICAgICBfZmV0Y2hMaXN0KGZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCJyZXMiLCByZXMuZGF0YSk7CiAgICAgICAgX3RoaXMyLnBvc3RMaXN0ID0gcmVzLmRhdGEucmVjb3JkcyB8fCBbXTsKICAgICAgICBfdGhpczIuY3VyclBhZ2UgPSByZXMuZGF0YS5jdXJyZW50OwogICAgICAgIF90aGlzMi5oYXNOZXh0UGFnZSA9IHJlcy5kYXRhLmhhc05leHRQYWdlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CgogICAgICBjb25zb2xlLmxvZygiNDUzNDU0MyIpOwogICAgfSwKICAgIGxvYWRNb3JlOiBmdW5jdGlvbiBsb2FkTW9yZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBfZmV0Y2hMaXN0KHsKICAgICAgICBwYWdlOiB0aGlzLmN1cnJQYWdlICsgMQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMucG9zdExpc3QgPSBfdGhpczMucG9zdExpc3QuY29uY2F0KHJlcy5kYXRhLml0ZW1zIHx8IFtdKTsKICAgICAgICBfdGhpczMuY3VyclBhZ2UgPSByZXMuZGF0YS5wYWdlOwogICAgICAgIF90aGlzMy5oYXNOZXh0UGFnZSA9IHJlcy5kYXRhLmhhc05leHRQYWdlOwogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKHNlYXJjaCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3NlYXJjaC8iLmNvbmNhdChzZWFyY2gpKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSgpIHsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8gdGhpcy5mZXRjaEZvY3VzKCk7CiAgICB0aGlzLmZldGNoTGlzdCgpOwogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"home\">\n    <banner isHome=\"true\"></banner>\n    <div class=\"site-content animate\">\n      <div class=\"search\">\n        <el-input\n          v-model=\"search\"\n          placeholder=\"请输入要查找的博客\"\n          class=\"input-with-select\"\n          @keyup.enter.native=\"submitForm(search)\"\n        >\n        </el-input>\n      </div>\n      <!--通知栏-->\n      <div class=\"notify\">\n        <div class=\"search-result\" v-if=\"hideSlogan\">\n          <span v-if=\"searchWords\">搜索结果：\"{{ searchWords }}\" 相关文章</span>\n          <span v-else-if=\"category\">分类 \"{{ category }}\" 相关文章</span>\n        </div>\n      </div>\n\n      <!--焦点图-->\n      <div class=\"top-feature\" v-if=\"!hideSlogan\">\n        <div class=\"feature-content\">\n          <div class=\"feature-item\" v-for=\"item in features\" :key=\"item.title\">\n            <Feature :data=\"item\"></Feature>\n          </div>\n        </div>\n      </div>\n      <!--文章列表-->\n      <main class=\"site-main\" :class=\"{ search: hideSlogan }\">\n        <section-title v-if=\"!hideSlogan\">推荐</section-title>\n        <template v-for=\"item in postList\">\n          <post :post=\"item\" :key=\"item.id\"></post>\n        </template>\n      </main>\n\n      <!--加载更多-->\n      <div class=\"more\" v-show=\"hasNextPage\">\n        <div class=\"more-btn\" @click=\"loadMore\">More</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Banner from \"@/components/banner\";\nimport Feature from \"@/components/feature\";\nimport sectionTitle from \"@/components/section-title\";\nimport Post from \"@/components/post\";\nimport SmallIco from \"@/components/small-ico\";\nimport Quote from \"@/components/quote\";\nimport { fetchFocus, fetchList } from \"../api\";\n\nexport default {\n  name: \"Home\",\n  props: [\"cate\", \"words\"],\n  data() {\n    return {\n      features: [],\n      postList: [],\n      currPage: 1,\n      hasNextPage: false,\n      search:'',\n    };\n  },\n  components: {\n    Banner,\n    Feature,\n    sectionTitle,\n    Post,\n    SmallIco,\n    Quote,\n  },\n  computed: {\n    searchWords() {\n      return this.$route.params.words;\n    },\n    category() {\n      return this.$route.params.cate;\n    },\n    hideSlogan() {\n      return this.category || this.searchWords;\n    },\n    notice() {\n      return this.$store.getters.notice;\n    },\n  },\n  methods: {\n    fetchFocus() {\n      fetchFocus()\n        .then((res) => {\n          this.features = res.data || [];\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    fetchList() {\n      console.log(\"12312\");\n      const form = {\n        articleTitle: this.$route.params.words,\n        articleCg: \"1\",\n      };\n      fetchList(form)\n        .then((res) => {\n          console.log(\"res\", res.data);\n          this.postList = res.data.records || [];\n          this.currPage = res.data.current;\n          this.hasNextPage = res.data.hasNextPage;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      console.log(\"4534543\");\n    },\n    loadMore() {\n      fetchList({ page: this.currPage + 1 }).then((res) => {\n        this.postList = this.postList.concat(res.data.items || []);\n        this.currPage = res.data.page;\n        this.hasNextPage = res.data.hasNextPage;\n      });\n    },\n    submitForm(search){\n       this.$router.push(`/search/${search}`)\n    }\n  },\n  watch:{\n    $route() {\n     location.reload();\n   },\n  },\n  mounted() {\n    // this.fetchFocus();\n    this.fetchList();\n  },\n};\n</script>\n<style scoped lang=\"less\">\n.site-content {\n  .notify {\n    margin: 60px 0;\n    border-radius: 3px;\n    & > div {\n      padding: 20px;\n    }\n  }\n\n  .search-result {\n    padding: 15px 20px;\n    text-align: center;\n    font-size: 20px;\n    font-weight: 400;\n    border: 1px dashed #ddd;\n    color: #828282;\n  }\n}\n\n.top-feature {\n  width: 100%;\n  height: auto;\n  margin-top: 30px;\n\n  .feature-content {\n    margin-top: 10px;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n\n    .feature-item {\n      width: 32.9%;\n    }\n  }\n}\n\n.site-main {\n  padding-top: 80px;\n\n  &.search {\n    padding-top: 0;\n  }\n}\n\n.more {\n  margin: 50px 0;\n  .more-btn {\n    width: 100px;\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n    color: #adadad;\n    border: 1px solid #adadad;\n    border-radius: 20px;\n    margin: 0 auto;\n    cursor: pointer;\n    &:hover {\n      color: #8fd0cc;\n      border: 1px dashed #8fd0cc;\n    }\n  }\n}\n\n/******/\n@media (max-width: 800px) {\n  .top-feature {\n    display: none;\n  }\n\n  .site-main {\n    padding-top: 40px;\n  }\n\n  .site-content {\n    .notify {\n      margin: 30px 0 0 0;\n    }\n\n    .search-result {\n      margin-bottom: 20px;\n      font-size: 16px;\n    }\n  }\n}\n\n/******/\n</style>\n"],"sourceRoot":"src/views"}]}